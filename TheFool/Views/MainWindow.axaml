<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:TheFool.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
        x:Class="TheFool.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="ðŸƒ The Fool - Balatro Seed Oracle"
        Width="1200" Height="800"
        WindowStartupLocation="CenterScreen">

    <Grid Background="#1F2937">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Main Content -->
        <TabControl Grid.Row="0" Background="#374151">
            
            <!-- Setup Tab -->
            <TabItem Header="ðŸŽ¯ SETUP">
                <StackPanel Margin="20" Spacing="20" Background="#1F2937">
                    
                    <TextBlock Text="ðŸƒ DECK CONFIGURATION" 
                              FontSize="20" 
                              FontWeight="Bold" 
                              Foreground="#F59E0B" 
                              Margin="0,0,0,15"/>
                    
                    <StackPanel Spacing="10">
                        <TextBlock Text="Deck:" Foreground="White" FontWeight="Bold"/>
                        <ComboBox ItemsSource="{Binding AvailableDecks}"
                                 SelectedItem="{Binding Config.Deck}"
                                 MinWidth="300"/>
                    </StackPanel>
                    
                    <StackPanel Spacing="10">
                        <TextBlock Text="Stake:" Foreground="White" FontWeight="Bold"/>
                        <ComboBox ItemsSource="{Binding AvailableStakes}"
                                 SelectedItem="{Binding Config.Stake}"
                                 MinWidth="300"/>
                    </StackPanel>
                    
                    <StackPanel Spacing="10">
                        <TextBlock Text="Configuration Name:" Foreground="White" FontWeight="Bold"/>
                        <TextBox Text="{Binding ConfigName}" 
                                MinWidth="300"
                                Watermark="Enter configuration name..."/>
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <Button Content="ðŸ’¾ SAVE" Command="{Binding SaveConfigCommand}" Padding="15,8"/>
                        <Button Content="ðŸ“‚ LOAD" Command="{Binding LoadConfigCommand}" Padding="15,8"/>
                    </StackPanel>
                    
                </StackPanel>
            </TabItem>
            
            <!-- Search Tab -->
            <TabItem Header="ðŸ” SEARCH">
                <StackPanel Margin="20" Spacing="20" Background="#1F2937">
                    <TextBlock Text="ðŸŽ¯ SEARCH CRITERIA" 
                              FontSize="20" 
                              FontWeight="Bold" 
                              Foreground="#F59E0B"/>
                    
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <Button Content="ðŸƒ Add Joker" Command="{Binding AddQuickJokerCommand}" Padding="10,5"/>
                        <Button Content="ðŸŒŸ Add Tarot" Command="{Binding AddQuickTarotCommand}" Padding="10,5"/>
                        <Button Content="ðŸŽ« Add Voucher" Command="{Binding AddQuickVoucherCommand}" Padding="10,5"/>
                    </StackPanel>
                    
                    <TextBlock Text="Required Items:" Foreground="White" FontWeight="Bold"/>
                    <ListBox ItemsSource="{Binding RequiredItems}" Height="200">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <TextBlock Text="{Binding Icon}" FontSize="16"/>
                                    <TextBlock Text="{Binding Name}" Foreground="White"/>
                                    <Button Content="âœ•" 
                                           Command="{Binding $parent[ListBox].DataContext.RemoveCriteriaCommand}"
                                           CommandParameter="{Binding}"
                                           Width="25" Height="25"/>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </StackPanel>
            </TabItem>
            
            <!-- Run Tab -->
            <TabItem Header="ðŸ”¥ RUN">
                <StackPanel Margin="20" Spacing="20" Background="#1F2937" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="ðŸ”¥ LET JIMBO COOK! ðŸ”¥" 
                              FontSize="32" 
                              FontWeight="Bold" 
                              Foreground="#F59E0B"
                              HorizontalAlignment="Center"/>
                    
                    <Button Content="ðŸš€ START SEARCH" 
                           Command="{Binding StartSearchCommand}"
                           FontSize="18"
                           Padding="30,15"
                           HorizontalAlignment="Center"/>
                </StackPanel>
            </TabItem>
        </TabControl>

        <!-- Status Bar -->
        <Border Grid.Row="1" 
                Background="#F59E0B" 
                Height="30">
            <TextBlock Text="{Binding StatusText}" 
                      VerticalAlignment="Center" 
                      Margin="10,0"
                      Foreground="#1F2937"
                      FontWeight="Bold"/>
        </Border>
    </Grid>
</Window>